
---

- name: git repo
  git:
    repo: 'https://github.com/goodtft/LCD-show.git'
    dest: /home/pi/LCD-show/
    force: yes
    update: yes

- name: guarantee permission
  file:
    path: /home/pi/LCD-show/LCD35-show
    mode: '+x'
    owner: pi


#- name: Set some kernel parameters
#  lineinfile:
#    dest: /home/pi/LCD-show/LCD35-show
#    regexp: "sudo reboot"
#    line: "#sudo reboot"

#- name: Set some kernel parameters
#   lineinfile:
#     dest: /home/pi/LCD-show/LCD35-show
#     regexp: "sudo dpkg"
#     line: "#sudo dkpg"


- name: execute LCD-35-show
  shell: ./LCD35-show
  args:
    chdir: /home/pi/LCD-show
  become: yes
  creates: /usr/share/X11/xorg.conf.d/99-fbturbo.conf


  # to reverse settings
  #command: /home/pi/LCD-show/LCD-hdmi


#- name:
#  copy:
#    src: /home/pi/LCD-show/boot/config-35.txt
#    dest: /boot/config.txt
#    remote_src:  yes
#    backup: yes


